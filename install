#!/bin/bash
XCODE_DIR=$1
if [ -z $XCODE_DIR ]; then
  XCODE_DIR="/Applications/Xcode.app"
fi

echo "Using <$XCODE_DIR>..."

TEMPLATE_DIRECTORY=$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )
SOURCE_DIRECTORY='$XCODE_DIR/Contents/Developer/Platforms/iPhoneOS.platform/Developer/Library/Xcode/Templates/File\ Templates/Source'

eval cd $SOURCE_DIRECTORY

echo Creating symbolic links
sudo ln -s "$TEMPLATE_DIRECTORY/VIPER.xctemplate" VIPER.xctemplate
sudo ln -s "$TEMPLATE_DIRECTORY/VIPER Tests.xctemplate" "VIPER Tests.xctemplate"
echo Done
